(this["webpackJsonpmine-book-list"]=this["webpackJsonpmine-book-list"]||[]).push([[0],{64:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c,a=n(0),o=n(22),r=n.n(o),u=n(13),i=n(12),s=n(4),b=n(8),j=n(37),l=n(5),h=Object(l.a)("book/fetchBookSuccess"),d=Object(l.a)("book/fetchBookRequest"),O=Object(l.a)("book/fetchBookError"),p=Object(l.a)("book/addBookSuccess"),f=Object(l.a)("book/addBookRequest"),m=Object(l.a)("book/addBookError"),x=Object(l.a)("book/deleteSuccess"),k=Object(l.a)("book/deleteRequest"),v=Object(l.a)("book/deleteError"),g=Object(l.a)("book/changeBookSuccess"),y=Object(l.a)("book/changeBookRequest"),B=Object(l.a)("book/changeBookError"),C=Object(l.b)([],(c={},Object(b.a)(c,h,(function(e,t){return t.payload})),Object(b.a)(c,p,(function(e,t){var n=t.payload;return[].concat(Object(j.a)(e),[n])})),Object(b.a)(c,x,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),Object(b.a)(c,g,(function(e,t){var n=t.payload;return[e.filter((function(e){return e.id!==n.id})),n]})),c)),S=Object(s.b)({book:C}),N=n(21),q=s.c,w=Object(s.d)(S,q(Object(s.a)(N.a))),A=n(3),R=n(16),E=n(17),D=n(19),I=n(18),T=n(14),F=n.n(T),J=function(){return function(e){e(d()),F.a.get("/product").then((function(t){var n=t.data;return e(h(n))})).catch((function(t){return e(O(t))}))}},M=function(e){return function(t){t(k()),F.a.delete("/product/".concat(e)).then((function(){return t(x(e))})).catch((function(e){return t(v(e))}))}},z=function(e){return function(t){t(f()),F.a.post("/product",e).then((function(e){var n=e.data;return t(p(n))})).catch((function(e){return t(m(e))}))}},G=function(e){return function(t){t(y()),F.a.patch("/product/".concat(e.id),e).then((function(){return t(g(e))})).catch((function(e){return t(B(e))}))}},H=(n(64),n(1));var K=Object(u.b)((function(e){return{book:function(e){return e.book}(e)}}),(function(e){return{onRemoveBook:function(t){return e(M(t))},fetchBook:function(){return e(J())}}}))((function(e){var t=e.book,n=e.onRemoveBook;return Object(H.jsx)("div",{className:"wrapper",children:Object(H.jsx)("ul",{className:"book-list",children:t.map((function(e){var t=e.id,c=e.name,a=e.author,o=e.category,r=e.isbn;return Object(H.jsxs)("li",{className:"book-list-item",children:[Object(H.jsx)("p",{children:c}),Object(H.jsx)("p",{children:a}),Object(H.jsx)("p",{children:o}),Object(H.jsx)("p",{children:r}),Object(H.jsxs)("div",{className:"buttons",children:[Object(H.jsx)("button",{children:Object(H.jsx)(i.b,{to:{pathname:"/product/".concat(t)},children:"Edit"})}),Object(H.jsx)("button",{type:"button",className:"button-delete",onClick:function(){return n(t)},children:"Delete"})]})]},t)}))})})})),L=function(e){Object(D.a)(n,e);var t=Object(I.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchBook()}},{key:"render",value:function(){return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(K,{}),Object(H.jsx)("button",{className:"button-link",children:Object(H.jsx)(i.b,{to:{pathname:"/product"},children:"Add a Book"})})]})}}]),n}(a.Component),P=Object(u.b)(null,(function(e){return{fetchBook:function(){return e(J())}}}))(L),Q=n(36),U=n(70),V=function(e){Object(D.a)(n,e);var t=Object(I.a)(n);function n(){var e;Object(R.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={id:"",name:"",author:"",category:"",isbn:""},e.handleSubmit=function(t){t.preventDefault(),e.props.changeBook(e.state),e.setState({id:"",name:"",author:"",category:"",isbn:""}),console.log("\u041f\u0435\u0440\u0435\u0431\u0440\u043e\u0441 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0447\u0435\u0440\u0435\u0437 1 \u0441\u0435\u043a."),setTimeout((function(){return window.location.href="/"}),0)},e.handleChange=function(t){var n,c=t.target,a=c.name,o=c.value;e.setState((n={},Object(b.a)(n,a,o),Object(b.a)(n,"category",o),n))},e}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.productId;F.a.get("product/".concat(t)).then((function(t){return e.setState(Object(Q.a)({},t.data))}))}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.author,c=e.isbn,a=e.category;return Object(H.jsx)("div",{className:"contact-form",children:Object(H.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"Name"}),Object(H.jsx)("input",{required:!0,type:"text",value:t,onChange:this.handleChange,name:"name"})]}),Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"Author"}),Object(H.jsx)("input",{required:!0,type:"text",value:n,onChange:this.handleChange,name:"author"})]}),Object(H.jsxs)("label",{children:["Category:",Object(H.jsx)("select",{value:a,onChange:this.handleChange,children:["Romance","Fantasy","Thriller"].map((function(e){return Object(H.jsx)("option",{name:"category",value:e,children:e},Object(U.a)())}))})]}),Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"ISBN"}),Object(H.jsx)("input",{required:!0,type:"text",value:c,onChange:this.handleChange,name:"isbn"})]}),Object(H.jsx)("button",{type:"submit",children:"Edit"})]})})}}]),n}(a.Component),W=Object(u.b)(null,(function(e){return{changeBook:function(t){return e(G(t))}}}))(V),X=(n(68),function(e){Object(D.a)(n,e);var t=Object(I.a)(n);function n(){var e;Object(R.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={id:"",name:"",author:"",category:"",isbn:""},e.handleSubmit=function(t){t.preventDefault(),e.props.onAddBook(e.state),e.setState({id:"",name:"",author:"",category:"",isbn:""}),console.log("\u041f\u0435\u0440\u0435\u0431\u0440\u043e\u0441 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0447\u0435\u0440\u0435\u0437 1 \u0441\u0435\u043a."),alert("Book added successfully"),setTimeout((function(){return window.location.href="/"}),0)},e.handleChange=function(t){var n,c=t.target,a=c.name,o=c.value;e.setState((n={},Object(b.a)(n,a,o),Object(b.a)(n,"category",o),n))},e}return Object(E.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.author,c=e.isbn,a=e.category;return Object(H.jsxs)("div",{className:"contact-form",children:[Object(H.jsx)("button",{className:"button-link",children:Object(H.jsx)(i.b,{to:{pathname:"/"},children:"Dashboard"})}),Object(H.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"Name"}),Object(H.jsx)("input",{required:!0,type:"text",value:t,onChange:this.handleChange,name:"name"})]}),Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"Author"}),Object(H.jsx)("input",{required:!0,type:"text",value:n,onChange:this.handleChange,name:"author"})]}),Object(H.jsxs)("label",{children:["Category:",Object(H.jsx)("select",{value:a,onChange:this.handleChange,children:["Romance","Fantasy","Thriller"].map((function(e){return Object(H.jsx)("option",{name:"category",value:e,children:e},Object(U.a)())}))})]}),Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"ISBN"}),Object(H.jsx)("input",{required:!0,type:"text",value:c,onChange:this.handleChange,name:"isbn"})]}),Object(H.jsx)("button",{type:"submit",children:"Add a Book"})]})]})}}]),n}(a.Component)),Y=Object(u.b)(null,(function(e){return{onAddBook:function(t){return e(z(t))}}}))(X);var Z=function(){return Object(H.jsx)(i.a,{children:Object(H.jsxs)(A.c,{children:[Object(H.jsx)(A.a,{exact:!0,path:"/",component:P}),Object(H.jsx)(A.a,{exact:!0,path:"/product/:productId",component:W}),Object(H.jsx)(A.a,{exact:!0,path:"/product",component:Y})]})})};r.a.render(Object(H.jsx)(u.a,{store:w,children:Object(H.jsx)(i.a,{children:Object(H.jsx)(Z,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.55b7c85b.chunk.js.map