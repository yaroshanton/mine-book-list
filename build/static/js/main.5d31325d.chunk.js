(this["webpackJsonpmine-book-list"]=this["webpackJsonpmine-book-list"]||[]).push([[0],{64:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){"use strict";n.r(e);var c,o=n(0),a=n(22),r=n.n(a),u=n(13),i=n(12),s=n(4),b=n(8),l=n(37),h=n(5),j=Object(h.a)("book/fetchBookSuccess"),d=Object(h.a)("book/fetchBookRequest"),O=Object(h.a)("book/fetchBookError"),p=Object(h.a)("book/addBookSuccess"),f=Object(h.a)("book/addBookRequest"),m=Object(h.a)("book/addBookError"),x=Object(h.a)("book/deleteSuccess"),k=Object(h.a)("book/deleteRequest"),v=Object(h.a)("book/deleteError"),g=Object(h.a)("book/changeBookSuccess"),y=Object(h.a)("book/changeBookRequest"),B=Object(h.a)("book/changeBookError"),C=Object(h.b)([],(c={},Object(b.a)(c,j,(function(t,e){return e.payload})),Object(b.a)(c,p,(function(t,e){var n=e.payload;return[].concat(Object(l.a)(t),[n])})),Object(b.a)(c,x,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(b.a)(c,g,(function(t,e){var n=e.payload;return[t.filter((function(t){return t.id!==n.id})),n]})),c)),S=Object(s.b)({book:C}),N=n(21),q=s.c,w=Object(s.d)(S,q(Object(s.a)(N.a))),A=n(3),R=n(16),E=n(17),D=n(19),I=n(18),T=n(14),F=n.n(T),J=function(){return function(t){t(d()),F.a.get("http://localhost:4040/product").then((function(e){var n=e.data;return t(j(n))})).catch((function(e){return t(O(e))}))}},M=function(t){return function(e){e(k()),F.a.delete("http://localhost:4040/product/".concat(t)).then((function(){return e(x(t))})).catch((function(t){return e(v(t))}))}},z=function(t){return function(e){e(f()),F.a.post("http://localhost:4040/product",t).then((function(t){var n=t.data;return e(p(n))})).catch((function(t){return e(m(t))}))}},G=function(t){return function(e){e(y()),F.a.patch("http://localhost:4040/product/".concat(t.id),t).then((function(){return e(g(t))})).catch((function(t){return e(B(t))}))}},H=(n(64),n(1));var K=Object(u.b)((function(t){return{book:function(t){return t.book}(t)}}),(function(t){return{onRemoveBook:function(e){return t(M(e))},fetchBook:function(){return t(J())}}}))((function(t){var e=t.book,n=t.onRemoveBook;return Object(H.jsx)("div",{className:"wrapper",children:Object(H.jsx)("ul",{className:"book-list",children:e.map((function(t){var e=t.id,c=t.name,o=t.author,a=t.category,r=t.isbn;return Object(H.jsxs)("li",{className:"book-list-item",children:[Object(H.jsx)("p",{children:c}),Object(H.jsx)("p",{children:o}),Object(H.jsx)("p",{children:a}),Object(H.jsx)("p",{children:r}),Object(H.jsxs)("div",{className:"buttons",children:[Object(H.jsx)("button",{children:Object(H.jsx)(i.b,{to:{pathname:"/product/".concat(e)},children:"Edit"})}),Object(H.jsx)("button",{type:"button",className:"button-delete",onClick:function(){return n(e)},children:"Delete"})]})]},e)}))})})})),L=function(t){Object(D.a)(n,t);var e=Object(I.a)(n);function n(){return Object(R.a)(this,n),e.apply(this,arguments)}return Object(E.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchBook()}},{key:"render",value:function(){return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(K,{}),Object(H.jsx)("button",{className:"button-link",children:Object(H.jsx)(i.b,{to:{pathname:"/product"},children:"Add a Book"})})]})}}]),n}(o.Component),P=Object(u.b)(null,(function(t){return{fetchBook:function(){return t(J())}}}))(L),Q=n(36),U=n(70),V=function(t){Object(D.a)(n,t);var e=Object(I.a)(n);function n(){var t;Object(R.a)(this,n);for(var c=arguments.length,o=new Array(c),a=0;a<c;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={id:"",name:"",author:"",category:"",isbn:""},t.handleSubmit=function(e){e.preventDefault(),t.props.changeBook(t.state),t.setState({id:"",name:"",author:"",category:"",isbn:""}),console.log("\u041f\u0435\u0440\u0435\u0431\u0440\u043e\u0441 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0447\u0435\u0440\u0435\u0437 1 \u0441\u0435\u043a."),setTimeout((function(){return window.location.href="/"}),0)},t.handleChange=function(e){var n,c=e.target,o=c.name,a=c.value;t.setState((n={},Object(b.a)(n,o,a),Object(b.a)(n,"category",a),n))},t}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.productId;F.a.get("http://localhost:4040/product/".concat(e)).then((function(e){return t.setState(Object(Q.a)({},e.data))}))}},{key:"render",value:function(){var t=this.state,e=t.name,n=t.author,c=t.isbn,o=t.category;return Object(H.jsx)("div",{className:"contact-form",children:Object(H.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"Name"}),Object(H.jsx)("input",{required:!0,type:"text",value:e,onChange:this.handleChange,name:"name"})]}),Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"Author"}),Object(H.jsx)("input",{required:!0,type:"text",value:n,onChange:this.handleChange,name:"author"})]}),Object(H.jsxs)("label",{children:["Category:",Object(H.jsx)("select",{value:o,onChange:this.handleChange,children:["Romance","Fantasy","Thriller"].map((function(t){return Object(H.jsx)("option",{name:"category",value:t,children:t},Object(U.a)())}))})]}),Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"ISBN"}),Object(H.jsx)("input",{required:!0,type:"text",value:c,onChange:this.handleChange,name:"isbn"})]}),Object(H.jsx)("button",{type:"submit",children:"Edit"})]})})}}]),n}(o.Component),W=Object(u.b)(null,(function(t){return{changeBook:function(e){return t(G(e))}}}))(V),X=(n(68),function(t){Object(D.a)(n,t);var e=Object(I.a)(n);function n(){var t;Object(R.a)(this,n);for(var c=arguments.length,o=new Array(c),a=0;a<c;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={id:"",name:"",author:"",category:"",isbn:""},t.handleSubmit=function(e){e.preventDefault(),t.props.onAddBook(t.state),t.setState({id:"",name:"",author:"",category:"",isbn:""}),console.log("\u041f\u0435\u0440\u0435\u0431\u0440\u043e\u0441 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0447\u0435\u0440\u0435\u0437 1 \u0441\u0435\u043a."),alert("Book added successfully"),setTimeout((function(){return window.location.href="/"}),0)},t.handleChange=function(e){var n,c=e.target,o=c.name,a=c.value;t.setState((n={},Object(b.a)(n,o,a),Object(b.a)(n,"category",a),n))},t}return Object(E.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.author,c=t.isbn,o=t.category;return Object(H.jsxs)("div",{className:"contact-form",children:[Object(H.jsx)("button",{className:"button-link",children:Object(H.jsx)(i.b,{to:{pathname:"/"},children:"Dashboard"})}),Object(H.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"Name"}),Object(H.jsx)("input",{required:!0,type:"text",value:e,onChange:this.handleChange,name:"name"})]}),Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"Author"}),Object(H.jsx)("input",{required:!0,type:"text",value:n,onChange:this.handleChange,name:"author"})]}),Object(H.jsxs)("label",{children:["Category:",Object(H.jsx)("select",{value:o,onChange:this.handleChange,children:["Romance","Fantasy","Thriller"].map((function(t){return Object(H.jsx)("option",{name:"category",value:t,children:t},Object(U.a)())}))})]}),Object(H.jsxs)("label",{children:[Object(H.jsx)("p",{children:"ISBN"}),Object(H.jsx)("input",{required:!0,type:"text",value:c,onChange:this.handleChange,name:"isbn"})]}),Object(H.jsx)("button",{type:"submit",children:"Add a Book"})]})]})}}]),n}(o.Component)),Y=Object(u.b)(null,(function(t){return{onAddBook:function(e){return t(z(e))}}}))(X);var Z=function(){return Object(H.jsx)(i.a,{children:Object(H.jsxs)(A.c,{children:[Object(H.jsx)(A.a,{exact:!0,path:"/",component:P}),Object(H.jsx)(A.a,{exact:!0,path:"/product/:productId",component:W}),Object(H.jsx)(A.a,{exact:!0,path:"/product",component:Y})]})})};r.a.render(Object(H.jsx)(u.a,{store:w,children:Object(H.jsx)(i.a,{children:Object(H.jsx)(Z,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.5d31325d.chunk.js.map